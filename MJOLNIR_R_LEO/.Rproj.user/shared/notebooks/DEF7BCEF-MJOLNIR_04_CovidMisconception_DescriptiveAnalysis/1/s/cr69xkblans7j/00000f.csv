"0","f_semscoring_latent <- function(fit, data, scaled = TRUE){"
"0","  "
"0","  df_sem_estimate <- fit %>% lavaan::partable() %>% as_tibble %>% filter(user==1)"
"0","  v_latent_var <- df_sem_estimate$lhs %>% as_factor %>% levels"
"0","  "
"0","  f_calculate_latent <- function(latent_var, data2){"
"0","    "
"0","    v_obs_var <- df_sem_estimate %>% filter(lhs==latent_var) %>% dplyr::select(rhs) %>% as_vector()"
"0","    "
"0","    d <- tibble(matrix(ncol = 0, nrow = nrow(data)))"
"0","    for (obs_var in v_obs_var) {"
"0","      res <- data2[,obs_var] * (df_sem_estimate %>% filter(lhs==latent_var, rhs==obs_var) %>% dplyr::select(est) %>% as.numeric())"
"0","      d[,obs_var] <- res"
"0","    }"
"0","    res <- rowSums(d)"
"0","    if(scaled) res <- res %>% scale"
"0","    return(res)"
"0","  }"
"0","  "
"0","  d <- tibble(matrix(ncol = 0, nrow = nrow(data)))"
"0","  for(j in v_latent_var){"
"0","    data[,j] <- f_calculate_latent(j, data)"
"0","  }"
"0","  data <- data %>% dplyr::select(v_latent_var)"
"0","  return(data)"
"0","}"
"0",""
"0",""
"0","df_scorecovmis <- f_semscoring_latent(fit, df_covmis, scaled = F)"
"1","Note: Using an external vector in selections is ambiguous.
[34mâ„¹[39m Use `all_of(v_latent_var)` instead of `v_latent_var` to silence this message.
[34mâ„¹[39m See <https://tidyselect.r-lib.org/reference/faq-external-vector.html>.
[90mThis message is displayed once per session.[39m
"
"0","(df_scorecovmis$CovidSkepticism == min(df_scorecovmis$CovidSkepticism)) %>% which()"
"1","[1]"
"1"," 455"
"1"," 589"
"1","
"
"0","df_covmis %>% dplyr::select(matches(""^covmis"")) %>% as_tibble %>% dplyr::slice(455L,589L)"
